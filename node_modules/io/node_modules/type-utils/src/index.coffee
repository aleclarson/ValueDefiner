
require "lotus-require"

reportFailure = require "report-failure"
define = require "define"

definitions = [
  require "./type"
  require "./kind"
  require "./types"
]

define exports, ->
  @options = frozen: yes
  for getDefinition in definitions
    @ getDefinition exports

exports.assert = (invariant, reason) ->
  return if invariant
  if exports.isType reason, Object
    info = reason
    reason = info.reason
    delete info.reason
  error = Error reason ?= "Assertion failed."
  reportFailure error, info

exports.any = (values) ->
  return value for value in values when value?
  return
